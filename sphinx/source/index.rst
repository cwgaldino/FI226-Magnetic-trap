.. FI226: Magnetic trap documentation master file, created by
   sphinx-quickstart on Sun Jun 23 16:58:22 2019.
   You can adapt this file completely to your liking, but it should at least
   contain the root `toctree` directive.

FI226: Magnetic trap
================================================

Simulation of the magnetic field generated by a anti-helmholtz coil done as a homework of FI226 (IFGW-Unicamp).

.. toctree::
   :maxdepth: 2
   :caption: Python scripts/modules:

   coil_utils
   coilSimulation_exact
   coilSimulation_real

coil_utils.py module is intended to calculates the magnetic field of
coils. The parameters of the function are illustrated in fig. 1 and 2 for an
arbitrary current loop and for anti-helmholtz coil, respectively.

coilSimulation_exact.py and coilSimulation_real.py simulates the
helmholtz coil given some parameters.

.. image:: ../../docs/figures/field_loop.svg
  :height: 300px

Fig 1.

.. image:: ../../docs/figures/field_anti_helmholtz.svg
  :height: 300px

Fig 2.

Figures 3 and 4 shows the simulated results of a anti-helmholtz coil together
with measured data using a gaussimeter. The coils had 150 turns and R=2.5 cm,
D=2.45 cm, I=1 A. The default values of coilSimulation_exact.py and
coilSimulation_real.py reproduce these results.

.. image:: ../../docs/figures/Bz.svg
  :height: 300px

Fig 3.

.. image:: ../../docs/figures/dBz_raw.svg
  :height: 300px

Fig 4.


The derivative of measured data does not seem really good due to the small number of measured points.
To correct that we may artificially increase the number of measured by. Two methods are presented. The
script /data/comparisson.py reproduce the results below.

1) To interpolate the data, then average each 100 point to smooth the curve:

.. image:: ../../docs/figures/Bz_interp.svg
  :height: 300px

Fig 5.

.. image:: ../../docs/figures/dBz_interp.svg
  :height: 300px

Fig 6.



2) Fitting the data using a 5 order polynomial.

.. image:: ../../docs/figures/Bz_fit.svg
  :height: 300px

Fig 7.

.. image:: ../../docs/figures/dBz_fit.svg
  :height: 300px

Fig 8.

.. Indices and tables
.. ==================

.. * :ref:`genindex`
.. * :ref:`modindex`
.. * :ref:`search`
